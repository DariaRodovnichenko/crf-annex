<app-header></app-header>

<ion-content class="ion-padding">
  <h2>‚öôÔ∏è Grinder Converter</h2>

  <!-- From Grinder -->
  <ion-item>
    <ion-label>From Grinder</ion-label>
    <ion-select [(ngModel)]="fromGrinder" interface="popover">
      @for (g of grinders; track g.model) {
      <ion-select-option [value]="g">
        {{ g.brand }} {{ g.model }}
      </ion-select-option>
      }
    </ion-select>
  </ion-item>

  <!-- From Value -->
  <ion-item>
    <ion-label position="floating">
      Grind Value @if (fromGrinder) {
      <span>({{ fromGrinder.stepUnit }})</span>
      }
    </ion-label>
    <ion-input
      type="number"
      [(ngModel)]="fromValue"
      placeholder="Enter grind value"
    ></ion-input>
  </ion-item>

  <!-- To Grinder -->
  <ion-item>
    <ion-label>To Grinder</ion-label>
    <ion-select [(ngModel)]="toGrinder" interface="popover">
      @for (g of grinders; track g.model) {
      <ion-select-option [value]="g">
        {{ g.brand }} {{ g.model }}
      </ion-select-option>
      }
    </ion-select>
  </ion-item>

  <!-- Convert Button -->
  <ion-button expand="block" (click)="convert()">Convert</ion-button>

  <!-- Results -->
 @if (result !== null) {
  <ion-card class="ion-margin-top">
    <ion-card-header>
      <ion-card-title>üßÆ Conversion Result</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>
        üî¨ Approx. Microns:
        <strong>{{ micronValue?.toFixed(0) }}‚ÄØ¬µm</strong>
      </p>
      <p>
        ‚ú® <strong>{{ fromValue }}</strong> {{ fromGrinder.stepUnit }} on
        <strong>{{ fromGrinder.model }}</strong> ‚âà <strong>{{ result }}</strong>
        {{ toGrinder.stepUnit }} on <strong>{{ toGrinder.model }}</strong>
      </p>
    </ion-card-content>
  </ion-card>
}
</ion-content>
<app-bottom-toolbar></app-bottom-toolbar>
